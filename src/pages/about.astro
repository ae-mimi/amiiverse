---
import BaseLayout from "../layouts/BaseLayout.astro";
import MemberProfile from "../components/MemberProfile.astro";
import { getCollection, getEntry } from "astro:content";

const members = await getCollection("members");
const aboutPage = await getEntry("pages", "about");
if (!aboutPage) {
    throw new Error("Could not find 'about' page content");
}
const { data } = aboutPage;
// Provide default values just in case
const values = data.valuesList || [
    "Authenticity in every lyric",
    "Empowerment through vulnerability",
    "Celebrating our roots while embracing the future",
];
---

<BaseLayout title={data.title || "About | amii"}>
    <section class="section container" style="max-width: 800px;">
        <h1
            class="font-heading text-center"
            style="font-size: 3rem; margin-bottom: 2rem;"
        >
            {data.heading || "We Are amii"}
        </h1>

        <div
            class="font-body text-center"
            style="font-size: 1.2rem; line-height: 1.6; margin-bottom: 4rem;"
        >
            <p style="margin-bottom: 2rem;">
                {
                    data.description ||
                        "amii is a Nigerian girl group creating pop music rooted in honesty, growth, and shared experience."
                }
            </p>

            <div class="grid cols-2" style="gap: 2rem; text-align: left;">
                <div
                    style="padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 8px;"
                >
                    <h3
                        class="font-heading"
                        style="font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--color-accent);"
                    >
                        {data.meaningTitle || "The Meaning"}
                    </h3>
                    <p style="font-size: 1rem; opacity: 0.9;">
                        {
                            data.meaningText ||
                                '"amii" represents friendship, self-discovery, and the collective voice of a new generation. It is not just about the music, but the connection between us and you.'
                        }
                    </p>
                </div>
                <div
                    style="padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 8px;"
                >
                    <h3
                        class="font-heading"
                        style="font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--color-accent);"
                    >
                        {data.valuesTitle || "Our Values"}
                    </h3>
                    <ul
                        style="font-size: 1rem; opacity: 0.9; list-style: disc; padding-left: 1.5rem;"
                    >
                        {values.map((val: string) => <li>{val}</li>)}
                    </ul>
                </div>
            </div>
        </div>

        <div class="grid cols-3">
            {members.map((member) => <MemberProfile member={member} />)}
        </div>
    </section>
</BaseLayout>
